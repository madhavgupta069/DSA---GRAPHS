#include<iostream>
#include<vector>
#include<algorithm>
using namespace std;

struct Edge
{
    int u,v,w;
};

struct DSU
{
    vector<int>parent, rank;
    DSU(int n)
    {
        parent.resize(n);
        rank.resize(n,0);
        for(int i = 0; i<n;i++)
        {
            parent[i] = i;
        }
    }

    int find(int x)
    {
        if(parent[x] != x)
        {
            parent[x] = find(parent[x]);
        }
        return parent[x];
    }

    void unite(int a , int b)
    {
        a = find(a);
        b = find(b);
        if (a!=b)
        {
            if(rank[a] < rank[b])
            {
                parent[a] = b;
            }
            else if (rank[a]>rank[b])
            {
                parent[b] = a;
            }
            else
            {
                parent[b] = a;
                rank[a]++;
            }
        }
    }
};

void kruskalMST(int n , vector<Edge>&edges)
{
    sort(edges.begin(),edges.end(),[](Edge &a, Edge &b)
    {
        return a.w < b.w;
    });
    DSU dsu(n);
    int cost = 0;
    for(auto &e : edges)
    {
        if(dsu.find(e.u) != dsu.find(e.v))
        {
            cost+=e.w;
            dsu.unite(e.u,e.v);
        }
    }
    cout<<"Total cost is : "<< cost <<endl;
}

int main()
{
    int n = 5;
    vector<Edge> edges={{0, 1, 2},
        {0, 3, 6},
        {1, 2, 3},
        {1, 3, 8},
        {1, 4, 5},
        {2, 4, 7},
        {3, 4, 9}
    };

    kruskalMST(n,edges);
    return 0;
}
